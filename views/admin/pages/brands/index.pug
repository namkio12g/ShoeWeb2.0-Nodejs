extends ../../layout/default.pug
include ../../mixins/category_item.pug
include ../../mixins/alerts/successAlert.pug
include ../../mixins/alerts/errorAlert.pug
include ../../mixins/confirm.pug


block main
    +success_alert(messages.success)
    +error_alert(messages.error)
    nav.navbar.navbar_menu-title
        .nameTitle Nhãn hiệu
    .row.searchAndStatus
        .col-md-4
            form.fs-4.form-group.navbar.navbar_search.form_search 
                lable Tìm kiếm
                input(type="text" value=keyword name="keyword" class="form-control",id="seach" placeholder="----------Bạn tìm kiếm gì----------" aria-label="Recipient's username" aria-describedby="button-addon2")
                button(type='submit')
                    i(class="fa-solid fa-magnifying-glass" )
        .col-md-2
            .form-group.navbar
                lable Trạng Thái
                select.fs-4.form-select.filterSearchProduct#comboboxChangeStatus(aria-label='Default select example')
                                option(value="") -- status --

                                each item in listOption
                                    if item.class=="active"
                                        option(value=item.value,selected) #{item.name}
                                    else 
                                        option(value=item.value) #{item.name}  
 
        .col-md-6.d-flex.justify-content-end.py-3
            //- button.btn.btn-success.add_Product.btn_addProduct(type='button') Add new product

            if(role.permissions.includes("add-category"))
                button.btn.btn-success.fs-4(type='button' add-button) Tạo mới danh mục
    

    +confirm("Bạn Có Muốn Xóa Không")

    nav.navbar.navbar_content
        //- +detailProduct(detailProduct1)
        table.table.align-middle.tableProduct
            thead
                tr
                    th(scope='col',style='width: 5%' )
                        input(type="checkbox" first checkbox-all)
                    th(scope='col',style='width: 5%' first) STT
                    th(scope='col',style='width: 30%') Tiêu đề nhãn hiệu
                        i(class="fa-solid fa-arrow-up arrow")
                    th(cope='col',style='width: 9%') Trạng Thái 
                    th(scope='col') Chi tiết
                    th(scope='col',style='width: 5%') Vị trí
                    th(scope='col') Hoạt Động

            tbody.table-group-divider
                for item,index in brands 
                    tr.text-start.row-category
                        th(scope='row' first)
                            input(type="checkbox" checkbox-item id_category=item._id)    
                        td.fs-5(class="stt_tableCategory",scope='row' first) #{index}
                        td(class="_tableCategory")
                            .row.d-flex.justify-content-center.align-items-center
                                .col-3
                                    img(class='avatar-products' src=`${item.thumbnail}`, alt="", srcset="")
                                .col-5
                                    div.d-flex.flex-column.name-id-products
                                        p1.fs-5 #{item.title}
                    

                        td(class="text-wrap") 
                            if(role.permissions.includes("edit-category"))
                                button(status =item.status status-button id_category =item._id style=`${item.status==="active"? "color:var(--bs-success)":"color:var(--bs-danger)"}`)
                                    span:  i(class="fa-solid fa-circle")
                                    span.fs-5 
                                        | #{item.status}
                            else 
                                button(status =item.status  id_category =item._id style=`${item.status==="active"? "color:var(--bs-success)":"color:var(--bs-danger)"}`)
                                    span:  i(class="fa-solid fa-circle")
                                    span.fs-5 
                                        | #{item.status}
                        td
                                i.fs-5.fa-solid.fa-eye(btn-data-detail, id_product =item._id)
                        td(class="_tableCategory")
                                input.fs-5.form-control(type="Number" value=item.position)
    
                        td
                            if(role.permissions.includes("edit-category"))
                                button.fs-5.btn.btn-warning(href="/" type='button' data-toggle="modal" data-target="#exampleModal" )
                                    a(href=`/admin/brands/edit/${item._id}`)  Edit
                            if(!item.delete && role.permissions.includes("delete-category"))
                                button.fs-5.btn.btn-danger.ml-1.openConfirm(type='button' btn_delete id_category=item._id ) Delete
 
            //- +confirm("Bạn Có Muốn Xóa Không")

    script(src="/build/brandIndex_admin.bundle.js")
